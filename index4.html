<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å—Ç—Ä–∞–≤ –∑ –®–Ü</title>
</head>
<body>
  <h1>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å—Ç—Ä–∞–≤ –∑ –®—Ç—É—á–Ω–∏–º –Ü–Ω—Ç–µ–ª–µ–∫—Ç–æ–º</h1>
  <input id="input" type="text" placeholder="–í–≤–µ–¥–∏ —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç..." />
  <button onclick="generateRecipe()">–ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏</button>
  <pre id="output" style="white-space: pre-wrap;"></pre>

  <script>
    async function generateRecipe() {
      const input = document.getElementById('input').value;
      const output = document.getElementById('output');
      output.textContent = '–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è...';

      const apiKey = ''; // –ù–ï –∑–∞–ª–∏—à–∞–π –≤—ñ–¥–∫—Ä–∏—Ç–∏–º —É —Ñ—ñ–Ω–∞–ª—å–Ω–æ–º—É —Å–∞–π—Ç—ñ

      try {
        const response = await fetch('https://api.openai.com/v1/chat/completions', {
          method: 'POST',
          headers: {
            'Authorization': `Bearer ${apiKey}`,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            model: 'gpt-3.5-turbo',
            messages: [{
              role: 'user',
              content: `–ü—Ä–∏–¥—É–º–∞–π –ø—Ä–æ—Å—Ç–∏–π —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏–π —Ä–µ—Ü–µ–ø—Ç –∑—ñ —Å—Ç—Ä–∞–≤–æ—é, —è–∫–∞ –≤–∫–ª—é—á–∞—î "${input}". –û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è: –Ω–∞–∑–≤–∞, —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏, –ø—Ä–∏–≥–æ—Ç—É–≤–∞–Ω–Ω—è.`
            }],
            temperature: 0.7
          })
        });

        const data = await response.json();

        if (!response.ok) {
          throw new Error(`${response.status} ‚Äì ${data.error?.message || '–ü–æ–º–∏–ª–∫–∞ –∑–∞–ø–∏—Ç—É'}`);
        }

        const message = data.choices?.[0]?.message?.content;

        if (!message) {
          throw new Error("–ü–æ—Ä–æ–∂–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥—å –≤—ñ–¥ –º–æ–¥–µ–ª—ñ");
        }

        output.textContent = message;
      } catch (error) {
        output.textContent = `üò¢ –í–∏–Ω–∏–∫–ª–∞ –ø–æ–º–∏–ª–∫–∞: ${error.message}`;
      }
    }
  </script>
</body>
</html>
